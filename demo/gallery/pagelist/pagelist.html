<!DOCTYPE HTML>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <title>Brix Pagelist Demo</title>
  <link rel="stylesheet" type="text/css" href="pagelist.css">
  <script src="http://g.tbcdn.cn/kissy/k/1.4.0/seed-min.js"></script>
  <script type="text/javascript" src="http://g.tbcdn.cn/thx/brix/2.1.0/brix-min.js" bx-config="{componentsPath:'../../../src/',importsPath:'../../../src/',debug:true}"></script>
  <script src="http://rap.alibaba-inc.com/rap.plugin.js?projectId=387"></script>
</head>
<body>
  <div id="container" style="width:1000px;margin:0 auto">
  </div>
  <script type="text/template" id="tmpl_pagelist">
    <table class="pagelist" id="pagelist" cellpadding="0" cellspacing="0" bx-name="pagelist" bx-path="components/pagelist/index" bx-config="{url:'pagelist.json',dataType:'jsonp'}">
        <thead bx-tmpl="page-head" bx-datakey="result">
          <tr>
            {{#result}}
              {{#today}}
              <th class="today">
                <div class="left">
                  <div>{{day}}</div><div>{{date}}</div>
                </div>
                <i class="iconfont right">&#xe603;</i>
              </th>
              {{/today}}
              {{^today}}
              <th><div>{{day}}</div><div>{{date}}</div></th>
              {{/today}}
            {{/result}}
          </tr>
        </thead>
        <tbody bx-tmpl="page-body" bx-datakey="result">
          <tr>
            {{#result}}
            <td>
              {{#list}}
              <div class="item">{{.}}</div>
              {{/list}}
            </td>
            {{/result}}
          </tr>
        </tbody>
        <tfoot>
          <tr>
            <td colspan="7">
              <span bx-tmpl="page-foot" bx-datakey="week_lesson">{{week_lesson}}</span>
              <div class="pagination">
                <a class='prev'><i class="iconfont">&#xe600;</i><span>上&nbsp;周</span></a>
                <div class="index-point">
                  <i class="iconfont">&#xe602;</i>
                  <i class="iconfont current">&#xe602;</i>
                  <i class="iconfont">&#xe602;</i>
                </div>
                <a class='next'><span>下&nbsp;周</span><i class="iconfont">&#xe601;</i></a>
              </div>
            </td>
          </tr>
        </tfoot>
    </table>
  </script>
  <script type="text/javascript">
    KISSY.ready(function(S) {
      S.use('brix/core/pagelet', function(S, Pagelet) {
            var pagelet = new Pagelet({
              container: '#container',
              tmpl: S.one('#tmpl_pagelist').html(),
              data: {}
            });
            pagelet.ready(function(){
              /*var pagelist = pagelet.getBrick('pagelist');
              pagelist.on('send',function(e){
                e.target.send(function(data){
                  pagelet.setChunkData(data);
                  });
              });*/
            });
          /*S.use('io',function(S, IO){
            IO({
              url:'pagelist.json',
              dataType:'jsonp',
              success: function(data){
                data = data || {};
                setPagelet(data);
              },
              error: function(xhr, msg){
                alert(msg);
              }
            });
          });*/

          
      });
    });
  </script>
</body>
</html>